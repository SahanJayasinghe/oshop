<!-- <p>home works!</p> -->
<div class="row py-3" *ngFor="let cat of CATEGORIES">
  <ng-container *ngIf="data_received && PRODUCTS[cat.key].length !== 0 && cart$ | async as cart">
    <p class="h2">{{ cat.name }}</p>
    <div class="w-100"></div>
    <div class="col-md-1 align-self-center d-flex justify-content-end">
      <button class="btn btn-md btn-secondary" (click)="slideLeft(cat.key)" [disabled]="productIndex[cat.key] === 0">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-left" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
        </svg>
      </button>
    </div>
    <div class="card-deck col-md-10 d-flex justify-content-between">
      <ng-container *ngFor="let product of PRODUCTS[cat.key].slice(productIndex[cat.key], productIndex[cat.key]+3)">
        <app-product-card [product]="product" [card-width]="'16rem'" [card-height]="'19rem'" [image-height]="'10rem'" [button-name]="'Add to Cart'" [shopping-cart]="cart"></app-product-card>
      </ng-container>
    </div>
    <div class="col-md-1 align-self-center d-flex justify-content-start">
      <button class="btn btn-md btn-secondary" (click)="slideRight(cat.key)" [disabled]="productIndex[cat.key] === PRODUCTS[cat.key].length - 3">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
        </svg>
      </button>
    </div>
  </ng-container>
</div>
